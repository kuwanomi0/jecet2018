/**
 ******************************************************************************
 ** ファイル名 : Driver.h
 ** クラス名   : Driver
 **
 ** 概要 : 走行体に指示するクラス
 ******************************************************************************
 **/
#ifndef RUNNER_DRIVER_H
#define RUNNER_DRIVER_H

#include "Runner.h"
#include "../scenario/Course.h"

class Driver
{
private:
    Runner* runner;
    Course* mCourse;
    Course dCourse[2] = {
    /*  {  距離,時間,衝撃,障害,  前進,旋回,尻尾,  P   ,    I   ,    D  ,目標RGB,走行法} */
        {     0,   0,  0,  0,      20,  0, 95, 0.0700F, 0.0001F, 0.7000F, 1.00F, 1 },
        { 99999,   0,  0,  0,      160,  0,  5, 0.0700F, 0.0001F, 0.7000F, 1.00F, 1 }
    };
    Course lCourse[10] =  {
        {     0,   0,  0,  0,     110,  0, 96, 0.0300F, 0.0000F, 1.0000F, 1.00F, 1 },  //  S
        {  2500,   0,  0,  0,     120,  0, 55, 0.0500F, 0.0000F, 1.0000F, 1.00F, 1 },  //  1 直線
        {  4000,   0,  0,  0,     101,  0,  5, 0.0920F, 0.0001F, 1.0000F, 1.00F, 1 },  //  2 左カーブ
        {  5800,   0,  0,  0,     116,  0,  5, 0.0500F, 0.0000F, 1.0000F, 1.00F, 1 },  //  3 直線
        {  6250,   0,  0,  0,     101,  0,  5, 0.0920F, 0.0001F, 1.1000F, 0.95F, 1 },  //  4 右カーブ
        {  6900,   0,  0,  0,     116,  0,  5, 0.0500F, 0.0000F, 1.0000F, 1.00F, 1 },  //  5 直線
        {  7600,   0,  0,  0,     101,  0,  5, 0.0920F, 0.0001F, 1.1000F, 0.92F, 1 },  //  6 右カーブ
        { 10050,   0,  0,  0,     118,  0,  5, 0.0500F, 0.0000F, 1.0000F, 1.00F, 1 },  //  7 直進
        { 11050,   0,  0,  0,      30,  0,  5, 0.0500F, 0.0001F, 0.7000F, 1.50F, 1 },  //  8G 左カーブ及び灰色
        { 99999,   0,  0,  0,      10,  0, 70, 0.0500F, 0.0001F, 0.7000F, 1.00F, 1 }   //  G
    };
    Course rCourse[11] =  {
        {     0,   0,  0,  0,     100,  0, 96, 0.0700F, 0.0000F, 1.0000F, 1.00F, 1 },  //  S
        {  2000,   0,  0,  0,     120,  0, 55, 0.0500F, 0.0001F, 1.0000F, 1.00F, 1 },  //  1 直進
        {  3800,   0,  0,  0,      95,  0,  5, 0.0920F, 0.0000F, 1.0000F, 1.00F, 1 },  //  2 左カーブ
        {  4200,   0,  0,  0,     105,  0,  5, 0.0500F, 0.0000F, 1.0000F, 1.00F, 1 },  //  3 直進
        {  4900,   0,  0,  0,      95,  0,  5, 0.0920F, 0.0000F, 1.0000F, 1.00F, 1 },  //  4 左カーブ
        {  5600,   0,  0,  0,      95,  0,  5, 0.0920F, 0.0001F, 1.1000F, 0.95F, 1 },  //  5 右カーブ
        {  6200,   0,  0,  0,     105,  0,  5, 0.0500F, 0.0000F, 1.0000F, 1.00F, 1 },  //  6 直進
        {  7360,   0,  0,  0,      95,  0,  5, 0.0920F, 0.0001F, 1.1000F, 0.95F, 1 },  //  7 右カーブ
        {  9800,   0,  0,  0,     115,  0,  5, 0.0500F, 0.0000F, 1.0000F, 1.00F, 1 },  //  8 直進
        { 12000,   0,  0,  0,      80,  0,  5, 0.0500F, 0.0001F, 0.7000F, 1.50F, 1 },  //  8G 左カーブ及び灰色
        { 99999,   0,  0,  0,      80,  0,  5, 0.0000F, 0.0000F, 0.0000F, 1.00F, 1 }   //  G
    };
    int courseNumber = 0;

public:
    Driver();
    void start();
    void exec();
    void btUpdate();

};
#endif  // RUNNER_DRIVER_H
